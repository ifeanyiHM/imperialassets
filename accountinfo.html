<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>
      Imperial Asset Managers Limited – We are Imperial….Proudly Imperial
    </title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
  </head>
  <body class="blurred">
    <div class="overlay" id="overlay"></div>

    <!-- Popup -->


  <header>
      <div class="containers" id="header">
          <div class="logo">
              <img src="assets/IAML Logo-01.png" alt="">
          </div>
          <div class="menu-toggle" onclick="toggleMenu()">
              <span></span>
              <span></span>
              <span></span>
          </div>
          <div class="links">
    
         <a href="login.html" class="login">Logout</a>
 
          </div>
      </div>
  </header>

  <style>
    .fblk p{
      color: #474747d0;

    }
    .fblk textarea{
      border: 1px solid var(--border-color);
  padding: 11px;
  width: 100%;
  margin-top: 10px;
  font-family: Poppins;
  font-size: 14px;
  font-weight: 400;
  line-height: 16.16px;
  text-align: left;
  color: var(--subtitle-color3);
  border-radius: 3px;
  resize: none;
    }
  </style>
  <script>
      function toggleMenu() {
          const links = document.querySelector('.links');
          links.classList.toggle('active');
      }
  </script>
    <div class="ovl"></div>
    <main id="content" class="hidden">
      <div class="containers etarderform">
        <br />
        <br />
        <h1> </h1>
        <p> <a href="admindashboard.html">  <   users Account Informaton </a> </p>
        <div class="formprogress">

        </div>
        <br />

        <div id="etraderformgrid" class="etraderformgrid"></div>

        <script>
     document.addEventListener("DOMContentLoaded", () => {
  // Get the customer_number from the query parameter
  const urlParams = new URLSearchParams(window.location.search);
  const customerNumber = urlParams.get("customer_number");

  // API endpoint
  const apiEndpoint = `https://marketreports.vercel.app/submissions/${customerNumber}/`;

  // Fetch user data from the API
  fetch(apiEndpoint)
    .then((response) => {
      if (!response.ok) {
        throw new Error(`Failed to fetch data: ${response.status}`);
      }
      return response.json();
    })
    .then((data) => {
      // Select the container where the data will be appended
      const container = document.getElementById("etraderformgrid");
      let htmlContent = "";

      // Custom order for rendering: "last-name", "first-name", "email" followed by other fields
      const keys = ["last-name", "first-name", "email"];
      
      // Add custom fields in the defined order
      keys.forEach(key => {
        if (data.data[key]) {
          htmlContent += `
            <div class="fblk" style="display: flex; flex-direction: column; gap: 5px;">
              <label>${key.replace(/-/g, " ")}</label>
              <textarea readonly>${data.data[key]}</textarea>
            </div>
          `;
        }
      });

      // Append the remaining fields in no particular order
      Object.entries(data.data).forEach(([key, value]) => {
        if (!keys.includes(key)) {
          htmlContent += `
            <div class="fblk" style="display: flex; flex-direction: column; gap: 5px;">
              <label>${key.replace(/-/g, " ")}</label>
              <textarea readonly>${value || "N/A"}</textarea>
            </div>
          `;
        }
      });

      // Insert the generated HTML into the container
      container.innerHTML = htmlContent;
    })
    .catch((error) => {
      console.error("Error fetching data:", error);
    });
});

        </script>

        <!-- <div class="termstxt">
          By opening this account you are hereby agreeing to the terms and condition of the imperial asset managers limited. I/We hereby irrevocable release the company from all liability in the event that any telephone, text messages, e-mail,  facsimile transmission or letter is not received, or is mutilated, altered, illegible or interrupted, duplicated, incomplete, 
 unauthorized, or delayed for any reason.
        </div> -->
        <div class="fblk etraderformgrid">
          <!-- <button>Previous</button> -->
          <button>Print</button>
        </div>
      </div>
    </main>




    <script>
      // Helper function to set a cookie
      function setCookie(name, value, minutes) {
        const expires = new Date(Date.now() + minutes * 60000).toUTCString();
        document.cookie = `${name}=${value}; expires=${expires}; path=/`;
      }
  
      // Helper function to get a cookie
      function getCookie(name) {
        const cookies = document.cookie.split("; ");
        for (const cookie of cookies) {
          const [key, value] = cookie.split("=");
          if (key === name) return value;
        }
        return null;
      }
  
      // Check if access is already granted
      if (getCookie("access") === "granted") {
        document.body.classList.remove("blurred");
        document.getElementById("content").classList.remove("hidden");
      } else {
        // Ask for the password
        const password = prompt("Enter the password to access the page:");
  
        if (password === "Imp3r$al") {
          // Correct password: grant access
          setCookie("access", "granted", 30); // Grant access for 30 minutes
          document.body.classList.remove("blurred");
          document.getElementById("content").classList.remove("hidden");
        } else {
          // Incorrect password: show error and restrict access
          alert("Incorrect password. Please reload the page to try again.");
          document.body.style.display = "none"; // Hide the body to restrict access
        }
      }
    </script>



    <footer>


      <div class="containers">
          <div class="footersec">
              <div class="footertop">Explore</div>
              <div class="footerbtm">
                  <a href="about.html">
                      About

                  </a>
                  <a href="services.html">

                      Board of Directors

                  </a>
                  <a href="services.html">

                      Management

                  </a>
                  <a href="careers.html">

                      Careers
                  </a>

              </div>
          </div>

          <div class="footersec">
              <div class="footertop">Our Businesses</div>
              <div class="footerbtm">
                  <a href="iaml.html">Imperial Asset Managers Limited</a>
                  <a href="ical.html">Imperial Capital Advisers Limited</a>



              </div>
          </div>

          <div class="footersec">
              <div class="footertop">Our Newsfeed</div>
              <div class="footerbtm">
                  <a href=""> All News</a>
                  <a href="research.html">Research and Insights</a>
                  <a href="">Blog</a>
                  <a href="">Policies</a>
                  <a href="">Terms & Conditions</a>
              </div>
          </div>


          <div class="footersec">
              <div class="footertop">Subscribe to our newsletter</div>
              <div class="footerbtm">
                  Weekly email about trends shaping markets, industries and the global
                  economy.
              </div>
              <input type="text" class="footerinput">
              <button>Submit</button>
          </div>


          <div class="footersec">
              <div class="footertop">Office Address</div>
              <div class="footerbtm">
                  <a href=""><b>Lagos Office:</b></a>
                  <a href="">THE EBENEZER PLACE 148A, Ikeja Way Off Association Road Dolphin Estate, Ikoyi, Lagos.</a>

              </div>
          </div>

          <div class="footersec">
              <div class="footertop">Reach Us</div>
              <div class="footerbtm">
                  <a href=""><b>Send a Message</b></a>
                  <a href="mailto:talk2us@imperialasset.com.ng">talk2us@imperialasset.com.ng</a>
                  <a href="#">


                      234 -1- 4637483, 08067035949, 09125007249

                  </a>

              </div>
          </div>
          <div class="footersec">
              <img src="assets/COMP.png" alt="">
          </div>
      </div>
  </footer>

    <script></script>
  </body>
</html>
